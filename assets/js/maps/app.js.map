{"version":3,"sources":["app.js"],"names":["$","on","e","preventDefault","toggleClass","length","count","target","mqDesktop","window","matchMedia","matches","getJSON","insta","each","data","index","src","images","standard_resolution","url","appendTo","bLazy","Blazy","selector","errorClass","App","document","undefined","Modernizr","touch","map","lat","lng","mapStyles","stylers","hue","saturation","featureType","elementType","lightness","visibility","mapInit","marker","markerLatLng","google","maps","LatLng","mapCenter","mapOptions","center","zoom","mapTypeId","MapTypeId","ROADMAP","styles","mapTypeControl","scaleControl","streetViewControl","rotateControl","zoomControl","Map","getElementById","hasClass","setTimeout","Marker","position","animation","Animation","DROP","setMap","includeAPI","js","fjs","getElementsByTagName","createElement","id","setAttribute","parentNode","insertBefore"],"mappings":"AAAAA,EAAE,WAaA,GARAA,EAAE,wBAAwBC,GAAG,QAAS,SAASC,GAC7CA,EAAEC,iBACFH,EAAE,QAAQI,YAAY,sBAMpBJ,EAAE,mBAAmBK,OAAQ,CAC/B,GAAIC,GACAC,EACAC,EAAYC,OAAOC,WAAW,gCAC9BF,GAAUG,SACZL,EAAS,GACTC,EAAS,6BAETD,EAAS,EACTC,EAAS,2BAEXP,EAAEY,QAAQ,oHAAoH,SAAUC,GACtIb,EAAEc,KAAKD,EAAME,KAAK,SAAUC,EAAMC,GAChC,MAAKD,KAAUV,GACN,MAETN,GAAE,4DAA6DiB,EAAIC,OAAOC,oBAAoBC,IAAK,aAAaC,SAASd,SAOjI,IAAIe,OAAQ,GAAIC,QACdC,SAAU,cACVC,WAAY,qBAEVC,IAAM,SAAWjB,EAAQkB,EAAUC,GAErC,YAGA,IAAI5B,EAAE,QAAQK,SAAWwB,UAAUC,MAAO,CAGxC,GAAIC,GAAM/B,EAAE,QACVgC,EAAMD,EAAIhB,KAAK,OACfkB,EAAMF,EAAIhB,KAAK,OAEfmB,IAEIC,UACIC,IAAK,YACLC,WAAY,QAGhBC,YAAa,OACbC,YAAa,WACbJ,UACIK,UAAW,MACXC,WAAY,iBAGhBH,YAAa,eACbC,YAAa,SACbJ,UACIM,WAAY,UAMpBC,EAAU,WAER,GAcIC,GAdAC,EAAe,GAAIC,QAAOC,KAAKC,OAAO,WAAY,aAClDC,EAAY,GAAIH,QAAOC,KAAKC,OAAOf,EAAKC,GACxCgB,GACEC,OAAQF,EACRG,KAAM,GACNC,UAAWP,OAAOC,KAAKO,UAAUC,QACjCC,OAAQrB,EACRsB,gBAAgB,EAChBC,cAAc,EACdC,mBAAmB,EACnBC,eAAe,EACfC,aAAa,GAEf7B,EAAM,GAAIc,QAAOC,KAAKe,IAAIlC,EAASmC,eAAe,OAAQb,EAG9DjD,GAAE,gBAAgBC,GAAG,QAAS,WACxBD,EAAE,QAAQ+D,SAAS,oBACrBC,WAAW,WACTrB,EAAS,GAAIE,QAAOC,KAAKmB,QACvBC,SAAUtB,EACVuB,UAAWtB,OAAOC,KAAKsB,UAAUC,KACjCtC,IAAKA,KAEN,KAEHY,EAAO2B,OAAO,SAMpBC,EAAa,WACX,GAAIC,GACFC,EAAM9C,EAAS+C,qBAAqB,UAAU,EAE3C/C,GAASmC,eAAe,cAC3BU,EAAK7C,EAASgD,cAAc,UAC5BH,EAAGI,GAAK,WACRJ,EAAGK,aAAa,QAAS,IACzBL,EAAGvD,IAAM,2EACTwD,EAAIK,WAAWC,aAAaP,EAAIC,IAItCF,KAKF,OACE7B,QAASA,IAGVjC,OAAQkB","file":"app.js","sourcesContent":["$(function(){\n\n  /*\n    FLIP BUTTON CONTROLS\n  */\n  $('[data-action=\"flip\"]').on('click', function(e) {\n    e.preventDefault();\n    $('body').toggleClass('postcard-flipped');\n  });\n\n  /*\n    INSTAGRAM LOADING\n  */\n  if ($('.instagram-feed').length) {\n    var count,\n        target;\n    var mqDesktop = window.matchMedia(\"screen and (min-width: 768px)\");\n    if (mqDesktop.matches) {\n      count  = 20;\n      target = '.instagram-feed--desktop';\n    } else {\n      count  = 8;\n      target = '.instagram-feed--mobile';\n    }\n    $.getJSON('https://api.instagram.com/v1/users/2150537699/media/recent/?client_id=d6df1ba940414fbfbbc3c85dce7a0d06&callback=?',function (insta) {\n      $.each(insta.data,function (index,src) {\n        if ( index === count ) {\n          return false;\n        }\n        $('<div class=\"instagram-image\" style=\"background-image:url('+ src.images.standard_resolution.url +')\"></div>').appendTo(target);\n      });\n    });\n  }\n\n});\n\nvar bLazy = new Blazy({\n  selector: '.lazyloaded',\n  errorClass: 'lazyloaded-error'\n});\nvar App = (function (window, document, undefined) {\n\n  'use strict';\n\n  // Only request the API if this element exists\n  if ($('#map').length && !Modernizr.touch) {\n\n    // Get latitude and longitude from data attributes\n    var map = $('#map'),\n      lat = map.data('lat'),\n      lng = map.data('lng'),\n\n      mapStyles = [\n        {\n          stylers: [\n            { hue: \"#DFBC8C\" },\n            { saturation: -20 }\n          ]\n        },{\n          featureType: \"road\",\n          elementType: \"geometry\",\n          stylers: [\n            { lightness: 100 },\n            { visibility: \"simplified\" }\n          ]\n        },{\n          featureType: \"poi.business\",\n          elementType: \"labels\",\n          stylers: [\n            { visibility: \"off\" }\n          ]\n        }\n      ],\n\n      // Map init, configuration\n      mapInit = function () {\n\n        var markerLatLng = new google.maps.LatLng(21.3953052, -157.743259),\n            mapCenter = new google.maps.LatLng(lat, lng),\n            mapOptions = {\n              center: mapCenter,\n              zoom: 17,\n              mapTypeId: google.maps.MapTypeId.ROADMAP,\n              styles: mapStyles,\n              mapTypeControl: false,\n              scaleControl: false,\n              streetViewControl: false,\n              rotateControl: false,\n              zoomControl: false\n            },\n            map = new google.maps.Map(document.getElementById(\"map\"), mapOptions),\n            marker;\n\n        $('.flip-button').on('click', function() {\n          if ($('body').hasClass('postcard-flipped')) {\n            setTimeout(function(){\n              marker = new google.maps.Marker({\n                position: markerLatLng,\n                animation: google.maps.Animation.DROP,\n                map: map\n              });\n            }, 500);\n          } else {\n            marker.setMap(null);\n          }\n        });\n      },\n\n      // Include Google Maps API\n      includeAPI = function () {\n        var js,\n          fjs = document.getElementsByTagName('script')[0];\n\n        if (!document.getElementById('gmap-api')) {\n          js = document.createElement('script');\n          js.id = 'gmap-api';\n          js.setAttribute('async', '');\n          js.src = \"http://maps.google.com/maps/api/js?v=3&sensor=false&callback=App.mapInit\";\n          fjs.parentNode.insertBefore(js, fjs);\n        }\n      };\n\n    includeAPI();\n  }\n\n  // Make mapInit() public so we can pass it to\n  // the Google Maps API callback param\n  return {\n    mapInit: mapInit\n  };\n\n})(window, document);"],"sourceRoot":"/source/"}