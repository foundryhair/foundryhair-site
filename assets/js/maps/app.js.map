{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/smooth-scroll/dist/js/smooth-scroll.min.js","src/assets/js/app.js","src/assets/js/lib/booking-link.js","src/assets/js/lib/map-generator.js"],"names":[],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*! smooth-scroll v12.1.5 | (c) 2017 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */\n!(function(e,t){\"function\"==typeof define&&define.amd?define([],(function(){return t(e)})):\"object\"==typeof exports?module.exports=t(e):e.SmoothScroll=t(e)})(\"undefined\"!=typeof global?global:\"undefined\"!=typeof window?window:this,(function(e){\"use strict\";var t=\"querySelector\"in document&&\"addEventListener\"in e&&\"requestAnimationFrame\"in e&&\"closest\"in e.Element.prototype,n={ignore:\"[data-scroll-ignore]\",header:null,speed:500,offset:0,easing:\"easeInOutCubic\",customEasing:null,before:function(){},after:function(){}},o=function(){for(var e={},t=0,n=arguments.length;t<n;t++){var o=arguments[t];!(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(o)}return e},a=function(t){return parseInt(e.getComputedStyle(t).height,10)},r=function(e){\"#\"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,a=-1,r=\"\",i=n.charCodeAt(0);++a<o;){if(0===(t=n.charCodeAt(a)))throw new InvalidCharacterError(\"Invalid character: the input contains U+0000.\");t>=1&&t<=31||127==t||0===a&&t>=48&&t<=57||1===a&&t>=48&&t<=57&&45===i?r+=\"\\\\\"+t.toString(16)+\" \":r+=t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(a):\"\\\\\"+n.charAt(a)}return\"#\"+r},i=function(e,t){var n;return\"easeInQuad\"===e.easing&&(n=t*t),\"easeOutQuad\"===e.easing&&(n=t*(2-t)),\"easeInOutQuad\"===e.easing&&(n=t<.5?2*t*t:(4-2*t)*t-1),\"easeInCubic\"===e.easing&&(n=t*t*t),\"easeOutCubic\"===e.easing&&(n=--t*t*t+1),\"easeInOutCubic\"===e.easing&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),\"easeInQuart\"===e.easing&&(n=t*t*t*t),\"easeOutQuart\"===e.easing&&(n=1- --t*t*t*t),\"easeInOutQuart\"===e.easing&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),\"easeInQuint\"===e.easing&&(n=t*t*t*t*t),\"easeOutQuint\"===e.easing&&(n=1+--t*t*t*t*t),\"easeInOutQuint\"===e.easing&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),e.customEasing&&(n=e.customEasing(t)),n||t},u=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},c=function(e,t,n){var o=0;if(e.offsetParent)do{o+=e.offsetTop,e=e.offsetParent}while(e);return o=Math.max(o-t-n,0)},s=function(e){return e?a(e)+e.offsetTop:0},l=function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute(\"tabindex\",\"-1\"),t.focus(),t.style.outline=\"none\"),e.scrollTo(0,n))},f=function(t){return!!(\"matchMedia\"in e&&e.matchMedia(\"(prefers-reduced-motion)\").matches)};return function(a,d){var m,h,g,p,v,b,y,S={};S.cancelScroll=function(){cancelAnimationFrame(y)},S.animateScroll=function(t,a,r){var f=o(m||n,r||{}),d=\"[object Number]\"===Object.prototype.toString.call(t),h=d||!t.tagName?null:t;if(d||h){var g=e.pageYOffset;f.header&&!p&&(p=document.querySelector(f.header)),v||(v=s(p));var b,y,E,I=d?t:c(h,v,parseInt(\"function\"==typeof f.offset?f.offset():f.offset,10)),O=I-g,A=u(),C=0,w=function(n,o){var r=e.pageYOffset;if(n==o||r==o||(g<o&&e.innerHeight+r)>=A)return S.cancelScroll(),l(t,o,d),f.after(t,a),b=null,!0},Q=function(t){b||(b=t),C+=t-b,y=C/parseInt(f.speed,10),y=y>1?1:y,E=g+O*i(f,y),e.scrollTo(0,Math.floor(E)),w(E,I)||(e.requestAnimationFrame(Q),b=t)};0===e.pageYOffset&&e.scrollTo(0,0),f.before(t,a),S.cancelScroll(),e.requestAnimationFrame(Q)}};var E=function(e){h&&(h.id=h.getAttribute(\"data-scroll-id\"),S.animateScroll(h,g),h=null,g=null)},I=function(t){if(!f()&&0===t.button&&!t.metaKey&&!t.ctrlKey&&(g=t.target.closest(a))&&\"a\"===g.tagName.toLowerCase()&&!t.target.closest(m.ignore)&&g.hostname===e.location.hostname&&g.pathname===e.location.pathname&&/#/.test(g.href)){var n;try{n=r(decodeURIComponent(g.hash))}catch(e){n=r(g.hash)}if(\"#\"===n){t.preventDefault(),h=document.body;var o=h.id?h.id:\"smooth-scroll-top\";return h.setAttribute(\"data-scroll-id\",o),h.id=\"\",void(e.location.hash.substring(1)===o?E():e.location.hash=o)}h=document.querySelector(n),h&&(h.setAttribute(\"data-scroll-id\",h.id),h.id=\"\",g.hash===e.location.hash&&(t.preventDefault(),E()))}},O=function(e){b||(b=setTimeout((function(){b=null,v=s(p)}),66))};return S.destroy=function(){m&&(document.removeEventListener(\"click\",I,!1),e.removeEventListener(\"resize\",O,!1),S.cancelScroll(),m=null,h=null,g=null,p=null,v=null,b=null,y=null)},S.init=function(a){t&&(S.destroy(),m=o(n,a||{}),p=m.header?document.querySelector(m.header):null,v=s(p),document.addEventListener(\"click\",I,!1),e.addEventListener(\"hashchange\",E,!1),p&&e.addEventListener(\"resize\",O,!1))},S.init(d),S}}));","import MapGen from \"./lib/map-generator\";\nimport BookingLink from \"./lib/booking-link\";\nimport smoothScroll from 'smooth-scroll';\n\nwindow['map'] = new MapGen('#map', 'map.mapInit');\n\nlet bLazy = new Blazy({\n  selector: '.lazyload',\n  successClass: 'lazyload--success',\n  errorClass: 'lazyload--error',\n  breakpoints: [\n    {\n      width: 768,\n      src: 'data-src-small'\n    }\n  ]\n});\n\nlet resizing = false;\nwindow.onresize = () => {\n  if (!resizing) {\n    resizing = true;\n    setTimeout(()=>{\n      resizing = false;\n      bLazy.revalidate()\n    }, 500)\n  }\n}\n\nsmoothScroll.init({\n  selector: '[smooth-scroll]',\n  speed: 500,\n  easing: 'easeInOutCubic'\n});\n\nlet bookingLink = new BookingLink('.booking-link')","export default class BookingLink {\n  constructor(selector) {\n    this.selector = selector\n    this.elArr = [...document.querySelectorAll(selector)]\n\n    this.elArr.forEach((el)=>{\n      this.setLink(el)\n    })\n  }\n  setLink(el) {\n    let userAgent = navigator.userAgent || navigator.vendor || window.opera\n\n    switch(true) {\n      case (/android/i.test(userAgent)):\n        el.href = el.dataset['href-android']\n        break\n      case (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream):\n        el.href = el.dataset['href-ios']\n        break\n      default:\n        break\n    }\n  }\n}","export default class MapGen {\n  constructor(selector, callback) {\n    // Only request the API if this element exists\n    // Get latitude and longitude from data attributes\n    this.mapSelector = document.querySelector(selector);\n    this.callback = callback;\n    this.isMobile = window.matchMedia( \"(max-width: 767px)\" ).matches;\n\n    this.lat = this.isMobile? 21.395 : 21.395372;\n    this.lng = this.isMobile? -157.7455 : -157.744254;\n\n    this.salonLat = 21.39515;\n    this.salonLng = -157.74317;\n\n    this.mapView = this.mapSelector.getAttribute('data-view') || 'map';\n\n    this.includeAPI();\n\n  }\n  mapInit() {\n    this.mapOptions = {\n      mapTypeId: 'roadmap',\n      mapTypeControl: false,\n      scaleControl: false,\n      streetViewControl: false,\n      rotateControl: false,\n      scrollwheel: false,\n      styles: [{\"featureType\":\"landscape\",\"stylers\":[{\"saturation\":-100},{\"lightness\":65},{\"visibility\":\"on\"}]},{\"featureType\":\"poi\",\"elementType\":\"all\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"road.highway\",\"stylers\":[{\"saturation\":-100},{\"visibility\":\"simplified\"}]},{\"featureType\":\"road.arterial\",\"stylers\":[{\"saturation\":-100},{\"lightness\":30},{\"visibility\":\"on\"}]},{\"featureType\":\"road.local\",\"stylers\":[{\"saturation\":-100},{\"lightness\":40},{\"visibility\":\"on\"}]},{\"featureType\":\"transit\",\"stylers\":[{\"saturation\":-100},{\"visibility\":\"simplified\"}]},{\"featureType\":\"administrative.province\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels\",\"stylers\":[{\"visibility\":\"on\"},{\"lightness\":-25},{\"saturation\":-100}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"hue\":\"#ffff00\"},{\"lightness\":-25},{\"saturation\":-97}]}]\n    };\n    this.mapOptions.zoom = this.isMobile? 16 : 18;\n    this.mapOptions.zoomControl = this.isMobile? false : true;\n    this.mapOptions.draggable = this.isMobile? false : true;\n\n    this.mapOptions.center = new google.maps.LatLng(this.lat, this.lng);\n    this.map = new google.maps.Map(this.mapSelector, this.mapOptions);\n\n    this.addMarker();\n\n    google.maps.event.addDomListener(window, 'resize', () => {\n      setTimeout( () => {\n        this.center();\n      }, 500);\n    });\n\n  }\n\n  includeAPI() {\n    var js,\n        fjs = document.getElementsByTagName('script')[0];\n\n    if (!document.getElementById('gmap-api')) {\n      js = document.createElement('script');\n      js.id = 'gmap-api';\n      js.setAttribute('async', '');\n      js.src = `http://maps.google.com/maps/api/js?libraries=geometry&v=3&callback=${this.callback}`;\n      fjs.parentNode.insertBefore(js, fjs);\n    }\n  }\n\n  center() {\n    this.map.setCenter(this.mapOptions.center);\n  }\n\n  addMarker() {\n    let marker = new google.maps.Marker({\n      position: new google.maps.LatLng(this.salonLat, this.salonLng),\n      animation: google.maps.Animation.DROP,\n      map: this.map\n    });\n  }\n\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc21vb3RoLXNjcm9sbC9kaXN0L2pzL3Ntb290aC1zY3JvbGwubWluLmpzIiwic3JjL2Fzc2V0cy9qcy9hcHAuanMiLCJzcmMvYXNzZXRzL2pzL2xpYi9ib29raW5nLWxpbmsuanMiLCJzcmMvYXNzZXRzL2pzL2xpYi9tYXAtZ2VuZXJhdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7Ozs7OztBQ0RBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsT0FBTyxLQUFQLElBQWdCLDJCQUFXLE1BQVgsRUFBbUIsYUFBbkIsQ0FBaEI7O0FBRUEsSUFBSSxRQUFRLElBQUksS0FBSixDQUFVO0FBQ3BCLFlBQVUsV0FEVTtBQUVwQixnQkFBYyxtQkFGTTtBQUdwQixjQUFZLGlCQUhRO0FBSXBCLGVBQWEsQ0FDWDtBQUNFLFdBQU8sR0FEVDtBQUVFLFNBQUs7QUFGUCxHQURXO0FBSk8sQ0FBVixDQUFaOztBQVlBLElBQUksV0FBVyxLQUFmO0FBQ0EsT0FBTyxRQUFQLEdBQWtCLFlBQU07QUFDdEIsTUFBSSxDQUFDLFFBQUwsRUFBZTtBQUNiLGVBQVcsSUFBWDtBQUNBLGVBQVcsWUFBSTtBQUNiLGlCQUFXLEtBQVg7QUFDQSxZQUFNLFVBQU47QUFDRCxLQUhELEVBR0csR0FISDtBQUlEO0FBQ0YsQ0FSRDs7QUFVQSx1QkFBYSxJQUFiLENBQWtCO0FBQ2hCLFlBQVUsaUJBRE07QUFFaEIsU0FBTyxHQUZTO0FBR2hCLFVBQVE7QUFIUSxDQUFsQjs7QUFNQSxJQUFJLGNBQWMsMEJBQWdCLGVBQWhCLENBQWxCOzs7Ozs7Ozs7Ozs7Ozs7SUNuQ3FCLFc7QUFDbkIsdUJBQVksUUFBWixFQUFzQjtBQUFBOztBQUFBOztBQUNwQixTQUFLLFFBQUwsR0FBZ0IsUUFBaEI7QUFDQSxTQUFLLEtBQUwsZ0NBQWlCLFNBQVMsZ0JBQVQsQ0FBMEIsUUFBMUIs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LENBRFY7O0FBR0EsVUFBSSxDQUFDLFNBQVMsY0FBVCxDQUF3QixVQUF4QixDQUFMLEVBQTBDO0FBQ3hDLGFBQUssU0FBUyxhQUFULENBQXVCLFFBQXZCLENBQUw7QUFDQSxXQUFHLEVBQUgsR0FBUSxVQUFSO0FBQ0EsV0FBRyxZQUFILENBQWdCLE9BQWhCLEVBQXlCLEVBQXpCO0FBQ0EsV0FBRyxHQUFILDJFQUErRSxLQUFLLFFBQXBGO0FBQ0EsWUFBSSxVQUFKLENBQWUsWUFBZixDQUE0QixFQUE1QixFQUFnQyxHQUFoQztBQUNEO0FBQ0Y7Ozs2QkFFUTtBQUNQLFdBQUssR0FBTCxDQUFTLFNBQVQsQ0FBbUIsS0FBSyxVQUFMLENBQWdCLE1BQW5DO0FBQ0Q7OztnQ0FFVztBQUNWLFVBQUksU0FBUyxJQUFJLE9BQU8sSUFBUCxDQUFZLE1BQWhCLENBQXVCO0FBQ2xDLGtCQUFVLElBQUksT0FBTyxJQUFQLENBQVksTUFBaEIsQ0FBdUIsS0FBSyxRQUE1QixFQUFzQyxLQUFLLFFBQTNDLENBRHdCO0FBRWxDLG1CQUFXLE9BQU8sSUFBUCxDQUFZLFNBQVosQ0FBc0IsSUFGQztBQUdsQyxhQUFLLEtBQUs7QUFId0IsT0FBdkIsQ0FBYjtBQUtEOzs7Ozs7a0JBckVrQixNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qISBzbW9vdGgtc2Nyb2xsIHYxMi4xLjUgfCAoYykgMjAxNyBDaHJpcyBGZXJkaW5hbmRpIHwgTUlUIExpY2Vuc2UgfCBodHRwOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9zbW9vdGgtc2Nyb2xsICovXG4hKGZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSwoZnVuY3Rpb24oKXtyZXR1cm4gdChlKX0pKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KGUpOmUuU21vb3RoU2Nyb2xsPXQoZSl9KShcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgdD1cInF1ZXJ5U2VsZWN0b3JcImluIGRvY3VtZW50JiZcImFkZEV2ZW50TGlzdGVuZXJcImluIGUmJlwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJpbiBlJiZcImNsb3Nlc3RcImluIGUuRWxlbWVudC5wcm90b3R5cGUsbj17aWdub3JlOlwiW2RhdGEtc2Nyb2xsLWlnbm9yZV1cIixoZWFkZXI6bnVsbCxzcGVlZDo1MDAsb2Zmc2V0OjAsZWFzaW5nOlwiZWFzZUluT3V0Q3ViaWNcIixjdXN0b21FYXNpbmc6bnVsbCxiZWZvcmU6ZnVuY3Rpb24oKXt9LGFmdGVyOmZ1bmN0aW9uKCl7fX0sbz1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PTAsbj1hcmd1bWVudHMubGVuZ3RoO3Q8bjt0Kyspe3ZhciBvPWFyZ3VtZW50c1t0XTshKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkobyl9cmV0dXJuIGV9LGE9ZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KGUuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5oZWlnaHQsMTApfSxyPWZ1bmN0aW9uKGUpe1wiI1wiPT09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyKDEpKTtmb3IodmFyIHQsbj1TdHJpbmcoZSksbz1uLmxlbmd0aCxhPS0xLHI9XCJcIixpPW4uY2hhckNvZGVBdCgwKTsrK2E8bzspe2lmKDA9PT0odD1uLmNoYXJDb2RlQXQoYSkpKXRocm93IG5ldyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IoXCJJbnZhbGlkIGNoYXJhY3RlcjogdGhlIGlucHV0IGNvbnRhaW5zIFUrMDAwMC5cIik7dD49MSYmdDw9MzF8fDEyNz09dHx8MD09PWEmJnQ+PTQ4JiZ0PD01N3x8MT09PWEmJnQ+PTQ4JiZ0PD01NyYmNDU9PT1pP3IrPVwiXFxcXFwiK3QudG9TdHJpbmcoMTYpK1wiIFwiOnIrPXQ+PTEyOHx8NDU9PT10fHw5NT09PXR8fHQ+PTQ4JiZ0PD01N3x8dD49NjUmJnQ8PTkwfHx0Pj05NyYmdDw9MTIyP24uY2hhckF0KGEpOlwiXFxcXFwiK24uY2hhckF0KGEpfXJldHVyblwiI1wiK3J9LGk9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm5cImVhc2VJblF1YWRcIj09PWUuZWFzaW5nJiYobj10KnQpLFwiZWFzZU91dFF1YWRcIj09PWUuZWFzaW5nJiYobj10KigyLXQpKSxcImVhc2VJbk91dFF1YWRcIj09PWUuZWFzaW5nJiYobj10PC41PzIqdCp0Oig0LTIqdCkqdC0xKSxcImVhc2VJbkN1YmljXCI9PT1lLmVhc2luZyYmKG49dCp0KnQpLFwiZWFzZU91dEN1YmljXCI9PT1lLmVhc2luZyYmKG49LS10KnQqdCsxKSxcImVhc2VJbk91dEN1YmljXCI9PT1lLmVhc2luZyYmKG49dDwuNT80KnQqdCp0Oih0LTEpKigyKnQtMikqKDIqdC0yKSsxKSxcImVhc2VJblF1YXJ0XCI9PT1lLmVhc2luZyYmKG49dCp0KnQqdCksXCJlYXNlT3V0UXVhcnRcIj09PWUuZWFzaW5nJiYobj0xLSAtLXQqdCp0KnQpLFwiZWFzZUluT3V0UXVhcnRcIj09PWUuZWFzaW5nJiYobj10PC41PzgqdCp0KnQqdDoxLTgqLS10KnQqdCp0KSxcImVhc2VJblF1aW50XCI9PT1lLmVhc2luZyYmKG49dCp0KnQqdCp0KSxcImVhc2VPdXRRdWludFwiPT09ZS5lYXNpbmcmJihuPTErLS10KnQqdCp0KnQpLFwiZWFzZUluT3V0UXVpbnRcIj09PWUuZWFzaW5nJiYobj10PC41PzE2KnQqdCp0KnQqdDoxKzE2Ki0tdCp0KnQqdCp0KSxlLmN1c3RvbUVhc2luZyYmKG49ZS5jdXN0b21FYXNpbmcodCkpLG58fHR9LHU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCxkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpfSxjPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz0wO2lmKGUub2Zmc2V0UGFyZW50KWRve28rPWUub2Zmc2V0VG9wLGU9ZS5vZmZzZXRQYXJlbnR9d2hpbGUoZSk7cmV0dXJuIG89TWF0aC5tYXgoby10LW4sMCl9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/YShlKStlLm9mZnNldFRvcDowfSxsPWZ1bmN0aW9uKHQsbixvKXtvfHwodC5mb2N1cygpLGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQhPT10LmlkJiYodC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIiksdC5mb2N1cygpLHQuc3R5bGUub3V0bGluZT1cIm5vbmVcIiksZS5zY3JvbGxUbygwLG4pKX0sZj1mdW5jdGlvbih0KXtyZXR1cm4hIShcIm1hdGNoTWVkaWFcImluIGUmJmUubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uKVwiKS5tYXRjaGVzKX07cmV0dXJuIGZ1bmN0aW9uKGEsZCl7dmFyIG0saCxnLHAsdixiLHksUz17fTtTLmNhbmNlbFNjcm9sbD1mdW5jdGlvbigpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKHkpfSxTLmFuaW1hdGVTY3JvbGw9ZnVuY3Rpb24odCxhLHIpe3ZhciBmPW8obXx8bixyfHx7fSksZD1cIltvYmplY3QgTnVtYmVyXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLGg9ZHx8IXQudGFnTmFtZT9udWxsOnQ7aWYoZHx8aCl7dmFyIGc9ZS5wYWdlWU9mZnNldDtmLmhlYWRlciYmIXAmJihwPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZi5oZWFkZXIpKSx2fHwodj1zKHApKTt2YXIgYix5LEUsST1kP3Q6YyhoLHYscGFyc2VJbnQoXCJmdW5jdGlvblwiPT10eXBlb2YgZi5vZmZzZXQ/Zi5vZmZzZXQoKTpmLm9mZnNldCwxMCkpLE89SS1nLEE9dSgpLEM9MCx3PWZ1bmN0aW9uKG4sbyl7dmFyIHI9ZS5wYWdlWU9mZnNldDtpZihuPT1vfHxyPT1vfHwoZzxvJiZlLmlubmVySGVpZ2h0K3IpPj1BKXJldHVybiBTLmNhbmNlbFNjcm9sbCgpLGwodCxvLGQpLGYuYWZ0ZXIodCxhKSxiPW51bGwsITB9LFE9ZnVuY3Rpb24odCl7Ynx8KGI9dCksQys9dC1iLHk9Qy9wYXJzZUludChmLnNwZWVkLDEwKSx5PXk+MT8xOnksRT1nK08qaShmLHkpLGUuc2Nyb2xsVG8oMCxNYXRoLmZsb29yKEUpKSx3KEUsSSl8fChlLnJlcXVlc3RBbmltYXRpb25GcmFtZShRKSxiPXQpfTswPT09ZS5wYWdlWU9mZnNldCYmZS5zY3JvbGxUbygwLDApLGYuYmVmb3JlKHQsYSksUy5jYW5jZWxTY3JvbGwoKSxlLnJlcXVlc3RBbmltYXRpb25GcmFtZShRKX19O3ZhciBFPWZ1bmN0aW9uKGUpe2gmJihoLmlkPWguZ2V0QXR0cmlidXRlKFwiZGF0YS1zY3JvbGwtaWRcIiksUy5hbmltYXRlU2Nyb2xsKGgsZyksaD1udWxsLGc9bnVsbCl9LEk9ZnVuY3Rpb24odCl7aWYoIWYoKSYmMD09PXQuYnV0dG9uJiYhdC5tZXRhS2V5JiYhdC5jdHJsS2V5JiYoZz10LnRhcmdldC5jbG9zZXN0KGEpKSYmXCJhXCI9PT1nLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmIXQudGFyZ2V0LmNsb3Nlc3QobS5pZ25vcmUpJiZnLmhvc3RuYW1lPT09ZS5sb2NhdGlvbi5ob3N0bmFtZSYmZy5wYXRobmFtZT09PWUubG9jYXRpb24ucGF0aG5hbWUmJi8jLy50ZXN0KGcuaHJlZikpe3ZhciBuO3RyeXtuPXIoZGVjb2RlVVJJQ29tcG9uZW50KGcuaGFzaCkpfWNhdGNoKGUpe249cihnLmhhc2gpfWlmKFwiI1wiPT09bil7dC5wcmV2ZW50RGVmYXVsdCgpLGg9ZG9jdW1lbnQuYm9keTt2YXIgbz1oLmlkP2guaWQ6XCJzbW9vdGgtc2Nyb2xsLXRvcFwiO3JldHVybiBoLnNldEF0dHJpYnV0ZShcImRhdGEtc2Nyb2xsLWlkXCIsbyksaC5pZD1cIlwiLHZvaWQoZS5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKT09PW8/RSgpOmUubG9jYXRpb24uaGFzaD1vKX1oPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobiksaCYmKGguc2V0QXR0cmlidXRlKFwiZGF0YS1zY3JvbGwtaWRcIixoLmlkKSxoLmlkPVwiXCIsZy5oYXNoPT09ZS5sb2NhdGlvbi5oYXNoJiYodC5wcmV2ZW50RGVmYXVsdCgpLEUoKSkpfX0sTz1mdW5jdGlvbihlKXtifHwoYj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2I9bnVsbCx2PXMocCl9KSw2NikpfTtyZXR1cm4gUy5kZXN0cm95PWZ1bmN0aW9uKCl7bSYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLEksITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLE8sITEpLFMuY2FuY2VsU2Nyb2xsKCksbT1udWxsLGg9bnVsbCxnPW51bGwscD1udWxsLHY9bnVsbCxiPW51bGwseT1udWxsKX0sUy5pbml0PWZ1bmN0aW9uKGEpe3QmJihTLmRlc3Ryb3koKSxtPW8obixhfHx7fSkscD1tLmhlYWRlcj9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG0uaGVhZGVyKTpudWxsLHY9cyhwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixJLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsRSwhMSkscCYmZS5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsTywhMSkpfSxTLmluaXQoZCksU319KSk7IiwiaW1wb3J0IE1hcEdlbiBmcm9tIFwiLi9saWIvbWFwLWdlbmVyYXRvclwiO1xuaW1wb3J0IEJvb2tpbmdMaW5rIGZyb20gXCIuL2xpYi9ib29raW5nLWxpbmtcIjtcbmltcG9ydCBzbW9vdGhTY3JvbGwgZnJvbSAnc21vb3RoLXNjcm9sbCc7XG5cbndpbmRvd1snbWFwJ10gPSBuZXcgTWFwR2VuKCcjbWFwJywgJ21hcC5tYXBJbml0Jyk7XG5cbmxldCBiTGF6eSA9IG5ldyBCbGF6eSh7XG4gIHNlbGVjdG9yOiAnLmxhenlsb2FkJyxcbiAgc3VjY2Vzc0NsYXNzOiAnbGF6eWxvYWQtLXN1Y2Nlc3MnLFxuICBlcnJvckNsYXNzOiAnbGF6eWxvYWQtLWVycm9yJyxcbiAgYnJlYWtwb2ludHM6IFtcbiAgICB7XG4gICAgICB3aWR0aDogNzY4LFxuICAgICAgc3JjOiAnZGF0YS1zcmMtc21hbGwnXG4gICAgfVxuICBdXG59KTtcblxubGV0IHJlc2l6aW5nID0gZmFsc2U7XG53aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XG4gIGlmICghcmVzaXppbmcpIHtcbiAgICByZXNpemluZyA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgcmVzaXppbmcgPSBmYWxzZTtcbiAgICAgIGJMYXp5LnJldmFsaWRhdGUoKVxuICAgIH0sIDUwMClcbiAgfVxufVxuXG5zbW9vdGhTY3JvbGwuaW5pdCh7XG4gIHNlbGVjdG9yOiAnW3Ntb290aC1zY3JvbGxdJyxcbiAgc3BlZWQ6IDUwMCxcbiAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnXG59KTtcblxubGV0IGJvb2tpbmdMaW5rID0gbmV3IEJvb2tpbmdMaW5rKCcuYm9va2luZy1saW5rJykiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBCb29raW5nTGluayB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yXG4gICAgdGhpcy5lbEFyciA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKV1cblxuICAgIHRoaXMuZWxBcnIuZm9yRWFjaCgoZWwpPT57XG4gICAgICB0aGlzLnNldExpbmsoZWwpXG4gICAgfSlcbiAgfVxuICBzZXRMaW5rKGVsKSB7XG4gICAgbGV0IHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmFcblxuICAgIHN3aXRjaCh0cnVlKSB7XG4gICAgICBjYXNlICgvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSk6XG4gICAgICAgIGVsLmhyZWYgPSBlbC5kYXRhc2V0WydocmVmLWFuZHJvaWQnXVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAoL2lQYWR8aVBob25lfGlQb2QvLnRlc3QodXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtKTpcbiAgICAgICAgZWwuaHJlZiA9IGVsLmRhdGFzZXRbJ2hyZWYtaW9zJ11cbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwR2VuIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgLy8gT25seSByZXF1ZXN0IHRoZSBBUEkgaWYgdGhpcyBlbGVtZW50IGV4aXN0c1xuICAgIC8vIEdldCBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIGZyb20gZGF0YSBhdHRyaWJ1dGVzXG4gICAgdGhpcy5tYXBTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoIFwiKG1heC13aWR0aDogNzY3cHgpXCIgKS5tYXRjaGVzO1xuXG4gICAgdGhpcy5sYXQgPSB0aGlzLmlzTW9iaWxlPyAyMS4zOTUgOiAyMS4zOTUzNzI7XG4gICAgdGhpcy5sbmcgPSB0aGlzLmlzTW9iaWxlPyAtMTU3Ljc0NTUgOiAtMTU3Ljc0NDI1NDtcblxuICAgIHRoaXMuc2Fsb25MYXQgPSAyMS4zOTUxNTtcbiAgICB0aGlzLnNhbG9uTG5nID0gLTE1Ny43NDMxNztcblxuICAgIHRoaXMubWFwVmlldyA9IHRoaXMubWFwU2VsZWN0b3IuZ2V0QXR0cmlidXRlKCdkYXRhLXZpZXcnKSB8fCAnbWFwJztcblxuICAgIHRoaXMuaW5jbHVkZUFQSSgpO1xuXG4gIH1cbiAgbWFwSW5pdCgpIHtcbiAgICB0aGlzLm1hcE9wdGlvbnMgPSB7XG4gICAgICBtYXBUeXBlSWQ6ICdyb2FkbWFwJyxcbiAgICAgIG1hcFR5cGVDb250cm9sOiBmYWxzZSxcbiAgICAgIHNjYWxlQ29udHJvbDogZmFsc2UsXG4gICAgICBzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UsXG4gICAgICByb3RhdGVDb250cm9sOiBmYWxzZSxcbiAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcbiAgICAgIHN0eWxlczogW3tcImZlYXR1cmVUeXBlXCI6XCJsYW5kc2NhcGVcIixcInN0eWxlcnNcIjpbe1wic2F0dXJhdGlvblwiOi0xMDB9LHtcImxpZ2h0bmVzc1wiOjY1fSx7XCJ2aXNpYmlsaXR5XCI6XCJvblwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJwb2lcIixcImVsZW1lbnRUeXBlXCI6XCJhbGxcIixcInN0eWxlcnNcIjpbe1widmlzaWJpbGl0eVwiOlwib2ZmXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQuaGlnaHdheVwiLFwic3R5bGVyc1wiOlt7XCJzYXR1cmF0aW9uXCI6LTEwMH0se1widmlzaWJpbGl0eVwiOlwic2ltcGxpZmllZFwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJyb2FkLmFydGVyaWFsXCIsXCJzdHlsZXJzXCI6W3tcInNhdHVyYXRpb25cIjotMTAwfSx7XCJsaWdodG5lc3NcIjozMH0se1widmlzaWJpbGl0eVwiOlwib25cIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5sb2NhbFwiLFwic3R5bGVyc1wiOlt7XCJzYXR1cmF0aW9uXCI6LTEwMH0se1wibGlnaHRuZXNzXCI6NDB9LHtcInZpc2liaWxpdHlcIjpcIm9uXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInRyYW5zaXRcIixcInN0eWxlcnNcIjpbe1wic2F0dXJhdGlvblwiOi0xMDB9LHtcInZpc2liaWxpdHlcIjpcInNpbXBsaWZpZWRcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwiYWRtaW5pc3RyYXRpdmUucHJvdmluY2VcIixcInN0eWxlcnNcIjpbe1widmlzaWJpbGl0eVwiOlwib2ZmXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcIndhdGVyXCIsXCJlbGVtZW50VHlwZVwiOlwibGFiZWxzXCIsXCJzdHlsZXJzXCI6W3tcInZpc2liaWxpdHlcIjpcIm9uXCJ9LHtcImxpZ2h0bmVzc1wiOi0yNX0se1wic2F0dXJhdGlvblwiOi0xMDB9XX0se1wiZmVhdHVyZVR5cGVcIjpcIndhdGVyXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnlcIixcInN0eWxlcnNcIjpbe1wiaHVlXCI6XCIjZmZmZjAwXCJ9LHtcImxpZ2h0bmVzc1wiOi0yNX0se1wic2F0dXJhdGlvblwiOi05N31dfV1cbiAgICB9O1xuICAgIHRoaXMubWFwT3B0aW9ucy56b29tID0gdGhpcy5pc01vYmlsZT8gMTYgOiAxODtcbiAgICB0aGlzLm1hcE9wdGlvbnMuem9vbUNvbnRyb2wgPSB0aGlzLmlzTW9iaWxlPyBmYWxzZSA6IHRydWU7XG4gICAgdGhpcy5tYXBPcHRpb25zLmRyYWdnYWJsZSA9IHRoaXMuaXNNb2JpbGU/IGZhbHNlIDogdHJ1ZTtcblxuICAgIHRoaXMubWFwT3B0aW9ucy5jZW50ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHRoaXMubGF0LCB0aGlzLmxuZyk7XG4gICAgdGhpcy5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKHRoaXMubWFwU2VsZWN0b3IsIHRoaXMubWFwT3B0aW9ucyk7XG5cbiAgICB0aGlzLmFkZE1hcmtlcigpO1xuXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAncmVzaXplJywgKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICB0aGlzLmNlbnRlcigpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcblxuICB9XG5cbiAgaW5jbHVkZUFQSSgpIHtcbiAgICB2YXIganMsXG4gICAgICAgIGZqcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcblxuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dtYXAtYXBpJykpIHtcbiAgICAgIGpzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBqcy5pZCA9ICdnbWFwLWFwaSc7XG4gICAgICBqcy5zZXRBdHRyaWJ1dGUoJ2FzeW5jJywgJycpO1xuICAgICAganMuc3JjID0gYGh0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwcy9hcGkvanM/bGlicmFyaWVzPWdlb21ldHJ5JnY9MyZjYWxsYmFjaz0ke3RoaXMuY2FsbGJhY2t9YDtcbiAgICAgIGZqcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcywgZmpzKTtcbiAgICB9XG4gIH1cblxuICBjZW50ZXIoKSB7XG4gICAgdGhpcy5tYXAuc2V0Q2VudGVyKHRoaXMubWFwT3B0aW9ucy5jZW50ZXIpO1xuICB9XG5cbiAgYWRkTWFya2VyKCkge1xuICAgIGxldCBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgIHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHRoaXMuc2Fsb25MYXQsIHRoaXMuc2Fsb25MbmcpLFxuICAgICAgYW5pbWF0aW9uOiBnb29nbGUubWFwcy5BbmltYXRpb24uRFJPUCxcbiAgICAgIG1hcDogdGhpcy5tYXBcbiAgICB9KTtcbiAgfVxuXG59Il19"}